<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Client · CovenantSQL Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;intro&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#intro&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
"/><meta name="docsearch:version" content="0.5.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Client · CovenantSQL Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="http://developers.covenantsql.io/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;intro&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#intro&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
"/><meta property="og:image" content="http://developers.covenantsql.io/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://developers.covenantsql.io/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="https://hm.baidu.com/hm.js?fd1ee4ccc9da39d0cf4c60ad8e6e214b"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/logo.svg" alt="CovenantSQL Docs"/><h2 class="headerTitleWithLogo">CovenantSQL Docs</h2></a><a href="/en/versions"><h3>0.5.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/0.5.0/intro" target="_self">Docs</a></li><li class=""><a href="/en/help" target="_self">Help</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/zh-CN/0.5.0/cql">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Client</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="intro"></a><a href="#intro" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intro</h2>
<p>CovenantSQL provides a <code>cql</code> command line toolset for terminal users to access and manage user accounts, wallet balances, and databases. Check the complete toolset installation tutorial at <a href="quickstart#工具包安装">CovenantSQL Toolset installation</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="private-key-and-config-file"></a><a href="#private-key-and-config-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Private Key and Config File</h3>
<p>The <code>cql</code> command needs to rely on a private key file <code>private.key</code> and a config file <code>config.yaml</code>:</p>
<ul>
<li><code>private.key</code>：a private key file which is generated while creating an account, be sure to keep it safe</li>
<li><code>config.yaml</code>：mainly used to config the CovenantSQL network for <code>cql</code> command to connect (e.g., the <a href="quickstart">TestNet</a> or the <a href="deployment">Docker Environment by One Click</a>)</li>
</ul>
<p>For security, the private key file is usually encrypted with a master key. A master key is individually chosen by the user while creating an account and is memorized or kept somewhere by the user -- note that the config file will not keep the master key. When the private key is required by the <code>cql</code> command, it will ask the user to input the master key to decrypt the private key file.</p>
<h3><a class="anchor" aria-hidden="true" id="common-parameters-for-sub-commands"></a><a href="#common-parameters-for-sub-commands" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Parameters for Sub-commands</h3>
<p>The following parameters are commonly used by <code>cql</code> sub-commands:</p>
<pre><code class="hljs">-bypass-signature
      Disable signature signing and verifying, for testing only
-config string
      Config file for covenantsql (Usually no need to set, default is enough.) (default &quot;~/.cql/config.yaml&quot;)
-no-password
      Use an empty master key
-password string
      Master key for covenantsql (NOT SAFE, for debugging or script mode only)
</code></pre>
<p>Note that the private key file path is specified in the config file, and its default value is <code>./private.key</code>, indicating that it's located in the same directory of the config. So usually we put the private key file together with config, instead of using an individual parameter to specify the private key file.</p>
<h2><a class="anchor" aria-hidden="true" id="account-management"></a><a href="#account-management" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Account Management</h2>
<p>For the TestNet environment, we provide a public account for quick testing. Check the <a href="quickstart">CovenantSQL TestNet</a> tutorial to find out the private key and config file of the public account. And you can also follow the next section to create an individual account with <code>cql</code> command.</p>
<h3><a class="anchor" aria-hidden="true" id="creating-new-account"></a><a href="#creating-new-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating New Account</h3>
<p>The sub-command <code>generate</code> generates a private key file and a config file connecting to the TestNet in the specified directory, e.g.:</p>
<pre><code class="hljs css language-bash">cql generate config
</code></pre>
<blockquote>
<p>Currently, the generated config file is pointed to the TestNet, we will provide options to generated config for Docker Environment later.</p>
</blockquote>
<p>For a complete help message, check <a href="#sub-command-generate-complete-parameters">Complete Parameters</a>.</p>
<p>Output:</p>
<pre><code class="hljs">Generating key pair...
Enter master key(press Enter for default: &quot;&quot;): 

Private key file: ~/.cql/private.key
Public key's hex: 027af3584b8b4736d6ba1e78ace5f0fdefe561f08749c5cac39d23668c3030fe39
Generated key pair.
Generating nonce...
INFO[0075] cpu: 4
INFO[0075] position: 3, shift: 0x0, i: 3
INFO[0075] position: 1, shift: 0x0, i: 1
INFO[0075] position: 0, shift: 0x0, i: 0
INFO[0075] position: 2, shift: 0x0, i: 2
nonce: {{1056388 0 0 1424219234} 25 000000737633a77a39fc5e0a1855ca2c441486fef049ac4069e93dde6e58bb01}
node id: 000000737633a77a39fc5e0a1855ca2c441486fef049ac4069e93dde6e58bb01
Generated nonce.
Generating config file...
Generated nonce.
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="acquiring-the-public-key"></a><a href="#acquiring-the-public-key" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Acquiring the Public Key</h3>
<p>The sub-command <code>generate</code> is also used to acquire the public key (in hex string format) of the private key file, e.g.:</p>
<pre><code class="hljs css language-bash">cql generate public
</code></pre>
<p>Output：</p>
<pre><code class="hljs">Enter master key(press Enter for default: &quot;&quot;): 

INFO[0011] init config success                           path=/home/levente/.cql/private.key
INFO[0011] use public key in config file: /home/levente/.cql/config.yaml
Public key's hex: 02fd4089e7f4ca224f576d4baa573b3e9662153c952fce3f87f9586ffdd11baef6
</code></pre>
<blockquote>
<p>This functionality is usually not used in common scene</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="sub-command-generate-complete-parameters"></a><a href="#sub-command-generate-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>generate</code> Complete Parameters</h3>
<p>Also see <a href="#common-parameters-for-sub-commands">Common Parameters for Sub-commands</a>. We will not mention this in the further sub-command introductions.</p>
<pre><code class="hljs">usage: cql generate [parameters]... config | public

Generate command can generate private.key and config.yaml for CovenantSQL.
e.g.
    cql generate config

Params:
  &lt;No other parameters&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mine-a-node-id"></a><a href="#mine-a-node-id" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mine a Node ID</h3>
<p>The sub-command <code>idminer</code> is used to mine another Node ID of a private key (specified by a config file), (also check <a href="terms#Node-ID">Node ID</a> for details). e.g.:</p>
<pre><code class="hljs css language-bash">cql idminer
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] cql build: cql develop-34ae741a-20190415161544 linux amd64 go1.11.5
Enter master key(press Enter for default: &quot;&quot;):

INFO[0008] init config success                           path=/home/levente/.cql/config.yaml
INFO[0008] use public key in config file: /home/levente/.cql/config.yaml
INFO[0008] cpu: 8
INFO[0008] position: 3, shift: 0x20, i: 7
INFO[0008] position: 0, shift: 0x0, i: 0
INFO[0008] position: 3, shift: 0x0, i: 6
INFO[0008] position: 1, shift: 0x0, i: 2
INFO[0008] position: 2, shift: 0x0, i: 4
INFO[0008] position: 1, shift: 0x20, i: 3
INFO[0008] position: 2, shift: 0x20, i: 5
INFO[0008] position: 0, shift: 0x20, i: 1
nonce: {{1251426 4506240821 0 0} 25 00000041bc2b3de3bcb96328d0004c684628a908f0233eb31fe9998ef0c6288e}
node id: 00000041bc2b3de3bcb96328d0004c684628a908f0233eb31fe9998ef0c6288e
</code></pre>
<blockquote>
<p>This functionality is usually not used in common scene</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="sub-command-idminer-complete-parameters"></a><a href="#sub-command-idminer-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>idminer</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql idminer [parameter]...

IDMiner command can calculate legal node id and it's nonce. Default 24 difficulty and no endless loop.
e.g.
    cql idminer -difficulty 24

If you want to mine a good id, use:
    cql idminer -config ~/.cql/config.yaml -loop -difficulty 24

Params:
  -difficulty int
        the difficulty for a miner to mine nodes and generating a nonce (default 24)
  -loop
        mining endless loop
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="wallet-management"></a><a href="#wallet-management" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wallet Management</h2>
<h3><a class="anchor" aria-hidden="true" id="wallet-address"></a><a href="#wallet-address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wallet Address</h3>
<p>Once the private key and config file is set, we can use sub-command <code>wallet</code> to check the wallet address of the account:</p>
<pre><code class="hljs css language-bash">cql wallet
</code></pre>
<p>Output:</p>
<pre><code class="hljs">Enter master key(press Enter for default: &quot;&quot;): 

wallet address: 43602c17adcc96acf2f68964830bb6ebfbca6834961c0eca0915fcc5270e0b40
</code></pre>
<p>The wallet address of the test account here is <code>43602c17adcc96acf2f68964830bb6ebfbca6834961c0eca0915fcc5270e0b40</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="wallet-balances"></a><a href="#wallet-balances" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wallet Balances</h3>
<p>We can also use sub-command <code>wallet</code> to check the balances in the wallet. CovenantSQL currently supports 5 types of tokens:</p>
<ul>
<li><code>Particle</code></li>
<li><code>Wave</code></li>
<li><code>Bitcoin</code></li>
<li><code>Ether</code></li>
<li><code>EOS</code></li>
</ul>
<p>Among them, <code>Particle</code> and <code>Wave</code> are the token types used by CovenantSQL. To check the token balances, use:</p>
<pre><code class="hljs css language-bash">cql wallet -balance all
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] Particle balance is: 10000000000000000000
INFO[0000] Wave balance is: 10000000000000000000
</code></pre>
<p>You can also check the balance of a specified type of token, e.g., checking the balance of <code>Bitcoin</code>:</p>
<pre><code class="hljs css language-bash">cql wallet -balance Bitcoin
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] Bitcoin balance is: 0
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="transferring-tokens-to-another-account"></a><a href="#transferring-tokens-to-another-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transferring Tokens to Another Account</h3>
<p>Once you get tokens from <a href="quickstart">TestNet</a> or <a href="deployment">Docker Environment by One-Click</a>, you can use the <code>transfer</code> sub-command to transfer tokens to another account. The command takes a <code>json</code> format meta info as its main parameter, e.g.:</p>
<pre><code class="hljs css language-json">{
  "addr": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6", // Receiver wallet address
  "amount": "1000000 Particle" // Transfer amount with token type
}
</code></pre>
<p>Note that the receiver wallet address could be a user account address or a database address -- we treat the database as a special kind of account. While transferring to a database, the tokens will be used as the deposit and advance payment of that database for the sender.</p>
<blockquote>
<p>Check more detailed knowledge about <a href="terms#deposit-and-advance-payment">Deposit and Advance Payment</a>.</p>
</blockquote>
<p>Pass the parameter to <code>transfer</code>:</p>
<pre><code class="hljs css language-bash">cql transfer <span class="hljs-string">'{"addr": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6","amount": "1000000 Particle"}'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] succeed in sending transaction to CovenantSQL
</code></pre>
<p>Note that the above output message indicates that the transfer request is successfully sent to CovenantSQL network, but it will take a while before the block producers actually execute and confirm the transaction to take effect. You can use the <code>cql wallet -balance &lt;token_type&gt;</code> command again to check if the request takes effect, or add <code>-wait-tx-confirm</code> parameter to make <code>cql</code> wait for transaction confirmation before exit.</p>
<h3><a class="anchor" aria-hidden="true" id="sub-command-wallet-complete-parameters"></a><a href="#sub-command-wallet-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>wallet</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql wallet [-config file] [-balance token_name]

Wallet command can get CovenantSQL wallet address and the token balance of the current account
e.g.
    cql wallet

    cql wallet -balance Particle
    cql wallet -balance all

Params:
  -balance string
        Get a specific token's balance of the current account, e.g. Particle, Wave, and etc.
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-transfer-complete-parameters"></a><a href="#sub-command-transfer-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>transfer</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql transfer [-config file] [-wait-tx-confirm] meta_json

Transfer command can transfer your token to the target account.
The command argument is JSON meta info of a token transaction.
e.g.
    cql transfer '{&quot;addr&quot;:&quot;your_account_addr&quot;,&quot;amount&quot;:&quot;100 Particle&quot;}'

Since CovenantSQL is based on blockchain, you may want to wait for the transaction confirmation.
e.g.
    cql transfer -wait-tx-confirm '{&quot;addr&quot;:&quot;your_account_addr&quot;,&quot;amount&quot;:&quot;100 Particle&quot;}'

Params:
  -wait-tx-confirm
        Wait for transaction confirmation
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="database-management"></a><a href="#database-management" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Database Management</h2>
<h3><a class="anchor" aria-hidden="true" id="creating-database"></a><a href="#creating-database" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating Database</h3>
<p>Like <code>transfer</code>, <code>create</code> takes a <code>json</code> format main parameter. Create a database with one miner node with:</p>
<pre><code class="hljs css language-bash">cql create <span class="hljs-string">'{"node": 1}'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">Enter master key(press Enter for default: &quot;&quot;): 

covenantsql://0a10b74439f2376d828c9a70fd538dac4b69e0f4065424feebc0f5dbc8b34872
</code></pre>
<p>Here <code>covenantsql://0a10b74439f2376d828c9a70fd538dac4b69e0f4065424feebc0f5dbc8b34872</code> is the database source name (DSN) of the created database. And the <code>covenantsql</code> part is the scheme, which can be <code>cql</code> in abbreviation. The hex string after <code>://</code> is the database address, which can be used as a receiver address in <code>transfer</code> command.</p>
<p>The sub-command <code>create</code> sends transactions to block producers to create databases, so it has a <code>wait-tx-confirm</code> parameter too.</p>
<p>For a complete help message, check <a href="#sub-command-create-complete-parameters">Complete Parameters</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="deleting-database"></a><a href="#deleting-database" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><del>Deleting Database</del></h3>
<p><del>Not yet implemented.</del></p>
<h3><a class="anchor" aria-hidden="true" id="granting-permission"></a><a href="#granting-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Granting Permission</h3>
<h4><a class="anchor" aria-hidden="true" id="access-permission"></a><a href="#access-permission" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Access Permission</h4>
<p>CovenantSQL database has 3 kinds of access permission:</p>
<ul>
<li><code>Admin</code></li>
<li><code>Write</code></li>
<li><code>Read</code></li>
<li><code>Void</code> (for none)</li>
</ul>
<p>Among them, <code>Admin</code> is the permission that can assign permissions (<code>Admin</code>, <code>Write</code>, or <code>Read</code>) to the other accounts. <code>Admin</code> and <code>Write</code> allows the write queries (such as <code>CREATE</code>, <code>INSERT</code>, and etc.). <code>Admin</code> and <code>Read</code> allows the read queries (such as <code>SHOW</code>, <code>SELECT</code>, and etc.). If you want to allow a user to read/write the database but not allow to modify the permissions of itself or other accounts, you can assign the user permission as <code>Read,Write</code>. <code>Void</code> is a special kind of permission which means 'no permission'. Once the <code>Admin</code> sets the permission of an account as <code>Void</code>, it will no longer able to read or write the database. The account who creates the database will be granted the initial <code>Admin</code> permission by default.</p>
<p>Assume that you have created a database <code>covenantsql:\\4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5</code> with default account, and have generated another account under directory <code>account2</code> which has the address <code>011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6</code>. Now you can grant permissions to <code>accounts</code> to access the database, with the <code>json</code> format main parameter as following:</p>
<pre><code class="hljs css language-json">{
   "chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5", // Target database adderss to give permission
   "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6", // Target wallet address to get permission
   "perm": "Read,Write" // Permission, separated by commas
}
</code></pre>
<p>Pass the parameter to <code>grant</code>:</p>
<pre><code class="hljs css language-bash">cql grant <span class="hljs-string">'{"chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5", "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6", "perm": "Read,Write"}'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] succeed in sending transaction to CovenantSQL
</code></pre>
<p>Or revoke the permission:</p>
<pre><code class="hljs css language-bash">cql grant <span class="hljs-string">'{"chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5", "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6", "perm": "Void"}'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">INFO[0000] succeed in sending transaction to CovenantSQL
</code></pre>
<p>The sub-command <code>grant</code> sends transactions to block producers to request permission granting, so it has a <code>wait-tx-confirm</code> parameter too.</p>
<p>Since the database separately keeps billing for each user, you need to transfer tokens to the database (as user deposit and advance payment) from the new account before it can actually get access to the database. The minimum amount of deposit and advance payment can be calculated by: <code>gas_price*number_of_miner*120000</code>.</p>
<p>Transferring from <code>account2</code> to the database:</p>
<pre><code class="hljs css language-bash">cql -config <span class="hljs-string">"account2/config.yaml"</span> transfer <span class="hljs-string">'{"addr": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5","amount": "90000000 Particle"}'</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="sql-white-list"></a><a href="#sql-white-list" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SQL White List</h4>
<p>CovenantSQL supports white list setting for each of its users. By setting up SQL white list, you can further limit the access permission of a user to a given list of SQL Patterns with assignable parameters. With this feature, your database can be further secured because it avoids important data breach and accidentally updating/deleting.</p>
<p>Adding a white list:</p>
<pre><code class="hljs css language-bash">cql grant <span class="hljs-string">'
{
    "chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5",
    "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6",
    "perm": {
        "patterns": [
            "SELECT COUNT(1) FROM a",
            "SELECT * FROM a WHERE id = ? LIMIT 1"
        ],
        "role": "Read,Write"
    }
}
'</span>
</code></pre>
<p><em>SQL White List is an extension of the database permission system. It currently doesn't support incrementally updating, so you need to provide the complete permission information each time you use the <code>grant</code> sub-command</em></p>
<p>Cleaning the white list:</p>
<pre><code class="hljs css language-bash">cql grant <span class="hljs-string">'
{
    "chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5",
    "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6",
    "perm": {
        "patterns": nil,
        "role": "Read,Write"
    }
}
'</span>
<span class="hljs-comment"># or</span>
cql grant <span class="hljs-string">'
{
    "chain": "4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5",
    "user": "011f72fea9efa1a49a6663d66e514a34e45e426524c13335cf20bec1b47d10d6",
    "perm": "Read,Write"
}
'</span>
</code></pre>
<p>Either setting the <code>pattern</code> field to <code>nil</code> or just resetting the user permission directly, will eliminate the white list and give back the access permission to the user.</p>
<h3><a class="anchor" aria-hidden="true" id="sub-command-create-complete-parameters"></a><a href="#sub-command-create-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>create</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql create [parameters]... db_meta_json

Create CovenantSQL database by database meta info JSON string, meta info must include node count.
e.g.
    cql create '{&quot;node&quot;:2}'

A complete introduction of db_meta_json fields：
    targetminers           []string // List of target miner addresses
    node                   int      // Target node number
    space                  int      // Minimum disk space requirement, 0 for none
    memory                 int      // Minimum memory requirement, 0 for none
    loadavgpercpu          float    // Minimum idle CPU requirement, 0 for none
    encryptionkey          string   // Encryption key for persistence data
    useeventualconsistency bool     // Use eventual consistency to sync among miner nodes
    consistencylevel       float    // Consistency level, node*consistencylevel is the node number to perform strong consistency
    isolationlevel         int      // Isolation level in a single node

Since CovenantSQL is blockchain database, you may want get confirm of creation.
e.g.
    cql create -wait-tx-confirm '{&quot;node&quot;: 2}'

Params:
  -wait-tx-confirm
        Wait for transaction confirmation
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-drop-complete-parameters"></a><a href="#sub-command-drop-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>drop</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql drop [parameter]... dsn/dbid

Drop command can drop a database by DSN or database id
e.g.
    cql drop covenantsql://the_dsn_of_your_database

Since CovenantSQL is blockchain database, you may want get confirm of drop operation.
e.g.
    cql drop -wait-tx-confirm covenantsql://the_dsn_of_your_database

Params:
  -wait-tx-confirm
        Wait for transaction confirmation
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-grant-complete-parameters"></a><a href="#sub-command-grant-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>grant</code> Complete Parameters</h3>
<pre><code class="hljs">usage: cql grant [parameter]... permission_meta_json

Grant command can give a user some specific permissions on your database
e.g.
    cql grant '{&quot;chain&quot;: &quot;your_chain_addr&quot;, &quot;user&quot;: &quot;user_addr&quot;, &quot;perm&quot;: &quot;perm_struct&quot;}'

Since CovenantSQL is blockchain database, you may want get confirm of permission update.
e.g.
    cql grant -wait-tx-confirm '{&quot;chain&quot;:&quot;your_chain_addr&quot;,&quot;user&quot;:&quot;user_addr&quot;,&quot;perm&quot;:&quot;perm_struct&quot;}'

Params:
  -wait-tx-confirm
        Wait for transaction confirmation
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="accessing-database"></a><a href="#accessing-database" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accessing Database</h2>
<p>Once your database is successfully created, you can use the <code>console</code> sub-command to access it in an interactive console:</p>
<pre><code class="hljs css language-bash">cql console -dsn <span class="hljs-string">'covenantsql://4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">Enter master key(press Enter for default: &quot;&quot;): 

INFO[0010] init config success                           path=/home/levente/.cql/config.yaml
INFO[0010] connecting to &quot;covenantsql://4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5&quot; 
Connected with driver covenantsql (develop-34ae741a-20190416184528)
Type &quot;help&quot; for help.

co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt;
</code></pre>
<p>Or access as <code>account2</code> if it has successfully been granted access permission:</p>
<pre><code class="hljs css language-bash">cql console -config <span class="hljs-string">"account2/config.yaml"</span> -dsn <span class="hljs-string">'covenantsql://4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5'</span>
</code></pre>
<p>Output:</p>
<pre><code class="hljs">Enter master key(press Enter for default: &quot;&quot;): 

INFO[0010] init config success                           path=/home/levente/.config/cql/account2/config.yaml
INFO[0010] connecting to &quot;covenantsql://4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5&quot; 
Connected with driver covenantsql (develop-34ae741a-20190416184528)
Type &quot;help&quot; for help.

co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt;
</code></pre>
<p>Here is an example of using the interactive console:</p>
<pre><code class="hljs">co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt; create table t1 (c1 int);
CREATE TABLE
co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt; insert into t1 values (1), (2), (3);
INSERT
co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt; select * from t1;
c1
----
1
2
3
(3 rows)

co:4bc27a06ae52a7b8b1747f3808dda786ddd188627bafe8e34a332626e7232ba5=&gt; 
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-console-complete-parameters"></a><a href="#sub-command-console-complete-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>console</code> Complete Parameters</h3>
<p>The sub-command <code>console</code> also supports running <code>adapter</code> or <code>explorer</code> servers in the background. Check <a href="#local-servers">Local Servers</a> for details.</p>
<pre><code class="hljs">usage: cql console [parameter]...

Console command can run a interactive SQL console for CovenantSQL
e.g.
    cql console -dsn covenantsql://the_dsn_of_your_database

There is also a -command param for SQL script, and a -file param for reading SQL in a file.
If those params are set, it will run SQL script and exit without staying console mode.
e.g.
    cql console -dsn covenantsql://the_dsn_of_your_database -command &quot;create table test1(test2 int);&quot;

Params:
  -adapter string
        Address to serve a database chain adapter, e.g.:7784
  -command string
        Run only single command (SQL or usql internal command) and exit
  -dsn string
        Database url
  -explorer string
        Address to serve a database chain explorer, e.g.:8546
  -file string
        Execute commands from file and exit
  -no-rc
        Do not read startup file
  -out string
        Record stdout to file
  -single-transaction
        Execute as a single transaction (if non-interactive)
  -variable value
        Set variable
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="local-servers"></a><a href="#local-servers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Servers</h2>
<h3><a class="anchor" aria-hidden="true" id="sub-command-explorer-complete-parameter"></a><a href="#sub-command-explorer-complete-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>explorer</code> Complete Parameter</h3>
<pre><code class="hljs">usage: cql explorer [parameter]... address

Explorer command serves a SQLChain web explorer.
e.g.
    cql explorer 127.0.0.1:8546

Params:
  -bg-log-level string
        Background service log level
  -tmp-path string
        Background service temp file path, use os.TempDir for default
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-mirror-complete-parameter"></a><a href="#sub-command-mirror-complete-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>mirror</code> Complete Parameter</h3>
<pre><code class="hljs">usage: cql mirror [parameter]... dsn/dbid address

Mirror command subscribes database updates and serves a read-only database mirror.
e.g.
    cql mirror database_id 127.0.0.1:9389

Params:
  -bg-log-level string
        Background service log level
  -tmp-path string
        Background service temp file path, use os.TempDir for default
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sub-command-adapter-complete-parameter"></a><a href="#sub-command-adapter-complete-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>adapter</code> Complete Parameter</h3>
<p>See <a href="adapter">adapter</a> for details of adapter server.</p>
<pre><code class="hljs">usage: cql adapter [parameter]... address

Adapter command serves a SQLChain adapter
e.g.
    cql adapter 127.0.0.1:7784

Params:
  -bg-log-level string
        Background service log level
  -mirror string
        mirror server for the target adapter to query
  -tmp-path string
        Background service temp file path, use os.TempDir for default
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="advance-usage"></a><a href="#advance-usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advance Usage</h2>
<p>Sub-command <code>rpc</code> calls the remote process directly in the CovenantSQL network.</p>
<h3><a class="anchor" aria-hidden="true" id="sub-command-rpc-complete-parameter"></a><a href="#sub-command-rpc-complete-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-command <code>rpc</code> Complete Parameter</h3>
<pre><code class="hljs">usage: cql rpc [parameter]...

Rpc command make a RPC request to the target server
e.g.
    cql rpc -name 'MCC.QuerySQLChainProfile' \
            -endpoint 000000fd2c8f68d54d55d97d0ad06c6c0d91104e4e51a7247f3629cc2a0127cf \
            -req '{&quot;DBID&quot;: &quot;c8328272ba9377acdf1ee8e73b17f2b0f7430c798141080d0282195507eb94e7&quot;}'

Params:
  -endpoint string
        RPC endpoint to do a test call
  -name string
        RPC name to do a test call
  -req string
        RPC request to do a test call, in json format
  -wait-tx-confirm
        Wait for transaction confirmation
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 4/18/2019</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#intro">Intro</a><ul class="toc-headings"><li><a href="#private-key-and-config-file">Private Key and Config File</a></li><li><a href="#common-parameters-for-sub-commands">Common Parameters for Sub-commands</a></li></ul></li><li><a href="#account-management">Account Management</a><ul class="toc-headings"><li><a href="#creating-new-account">Creating New Account</a></li><li><a href="#acquiring-the-public-key">Acquiring the Public Key</a></li><li><a href="#sub-command-generate-complete-parameters">Sub-command <code>generate</code> Complete Parameters</a></li><li><a href="#mine-a-node-id">Mine a Node ID</a></li><li><a href="#sub-command-idminer-complete-parameters">Sub-command <code>idminer</code> Complete Parameters</a></li></ul></li><li><a href="#wallet-management">Wallet Management</a><ul class="toc-headings"><li><a href="#wallet-address">Wallet Address</a></li><li><a href="#wallet-balances">Wallet Balances</a></li><li><a href="#transferring-tokens-to-another-account">Transferring Tokens to Another Account</a></li><li><a href="#sub-command-wallet-complete-parameters">Sub-command <code>wallet</code> Complete Parameters</a></li><li><a href="#sub-command-transfer-complete-parameters">Sub-command <code>transfer</code> Complete Parameters</a></li></ul></li><li><a href="#database-management">Database Management</a><ul class="toc-headings"><li><a href="#creating-database">Creating Database</a></li><li><a href="#deleting-database"><del>Deleting Database</del></a></li><li><a href="#granting-permission">Granting Permission</a></li><li><a href="#sub-command-create-complete-parameters">Sub-command <code>create</code> Complete Parameters</a></li><li><a href="#sub-command-drop-complete-parameters">Sub-command <code>drop</code> Complete Parameters</a></li><li><a href="#sub-command-grant-complete-parameters">Sub-command <code>grant</code> Complete Parameters</a></li></ul></li><li><a href="#accessing-database">Accessing Database</a><ul class="toc-headings"><li><a href="#sub-command-console-complete-parameters">Sub-command <code>console</code> Complete Parameters</a></li></ul></li><li><a href="#local-servers">Local Servers</a><ul class="toc-headings"><li><a href="#sub-command-explorer-complete-parameter">Sub-command <code>explorer</code> Complete Parameter</a></li><li><a href="#sub-command-mirror-complete-parameter">Sub-command <code>mirror</code> Complete Parameter</a></li><li><a href="#sub-command-adapter-complete-parameter">Sub-command <code>adapter</code> Complete Parameter</a></li></ul></li><li><a href="#advance-usage">Advance Usage</a><ul class="toc-headings"><li><a href="#sub-command-rpc-complete-parameter">Sub-command <code>rpc</code> Complete Parameter</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="CovenantSQL Docs" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/intro">Getting Started</a><a href="/docs/api-json-rpc">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/search?q=covenantsql" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://gitter.im/CovenantSQL/CovenantSQL">Gitter Chat</a><a href="https://twitter.com/CovenantLabs" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://medium.com/@covenant_labs">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/CovenantSQL/CovenantSQL" data-icon="octicon-star" data-count-href="/CovenantSQL/CovenantSQL/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://covenantsql.io" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/horizontal_logo.svg" alt="CovenantSQL" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Covenant Labs</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '1b47865e3d00b7996a988bbc155a68e4',
                indexName: 'covenantsql',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>